---
import TapeFrame from "./TapeFrame.astro";
const { headline = "RADIOHEAD", sub = "Archive & Lore" } = Astro.props;
const base = import.meta.env.BASE_URL;
---
<section class="relative min-h-[70vh] md:min-h-[85vh] flex items-center justify-center overflow-hidden">
  <div class="absolute inset-0 -z-10">
    <div class="absolute inset-0 bg-gradient-to-b from-black via-[#0a0a0a] to-black"></div>
  </div>

  <div class="text-center select-none">
    <h1 id="hero-headline" class="text-5xl md:text-7xl font-semibold tracking-tight scramble-acid">{headline}</h1>
    <p class="mt-3 text-base md:text-lg text-neutral-300">{sub}</p>
    <div class="mt-8 flex items-center justify-center gap-4">
<a class="px-4 py-2 bg-[color:var(--acid)] text-black font-mono" href={`${base}timeline`}>Enter</a>
      <a class="px-3 py-2 border border-neutral-700 hover:border-[color:var(--acid)]" href="#content">Skip intro</a>
    </div>
  </div>

  <TapeFrame />
<div class="scanlines absolute inset-0" style={`background-image:url('${base}textures/scanlines.svg')`}></div>

  <script type="module">
    import { TextScramble } from "./TextScramble.ts";
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced) {
      const el = document.getElementById('hero-headline');
      if (el) {
        const ts = new TextScramble(el);
        const phrases = ['RADIOHEAD', 'ARCHIVE', 'GLITCHED MEMORY', 'SIGNAL / NOISE'];
        let i = 0;
        setInterval(() => { ts.setText(phrases[i = (i+1) % phrases.length]); }, 2400);
      }
    }
  </script>
</section>
